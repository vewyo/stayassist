flows:
  greet:
    description: Welcome guests and ask how the assistant can help them. This flow is triggered when users greet the assistant (hello, hi, hey, etc.).
    steps:
      - action: utter_greet_and_offer_help
  greet_followup:
    description: Handle follow-up greetings after the initial welcome. Triggered when user says hello, hi, hey after already being greeted.
    steps:
      - action: utter_greet_followup
  book_room:
    description: Collect all information required to create a room reservation.
    steps:
      - collect: guests
        description: "ask for the number of guests, convert words to numbers, handle invalid numbers"
      - collect: room_type
        description: "ask which room type the guest wants (standard or suite), handle questions about available rooms"
      - action: action_show_booking_calendar
      - collect: arrival_date
        description: "ask for the desired arrival date using calendar widget, handle typos and invalid dates gracefully"
      - collect: departure_date
        description: "ask for the departure date using calendar widget (second click), must be after arrival date"
      - collect: payment_option
        description: "ask whether the guest wants to pay at the desk or online"
  book_room_pay_at_desk:
    description: Handle bookings when the guest prefers to pay at the front desk.
    steps:
      - collect: email
        description: "ask for the guest's email address"
      - collect: first_name
        description: "ask for the guest's first name"
      - collect: last_name
        description: "ask for the guest's last name"
      - action: action_confirm_reservation_hold
      - action: action_generate_booking_number
  book_room_pay_online:
    description: Handle bookings where the guest chooses to pay online.
    steps:
      - action: action_send_payment_link
      - collect: payment_confirmation
        description: "wait until the guest confirms that payment was made"
      - action: action_confirm_payment_received
      - action: action_generate_booking_number
  cancel_booking:
    description: Allow guests to cancel an existing reservation when they provide the booking number.
    steps:
      - collect: booking_number
        description: "ask for the booking number the guest wants to cancel"
      - action: action_cancel_booking
  facility_information:
    description: Provide fixed information about on-site facilities such as pool hours, parking, and meals.
    steps:
      - collect: facility_topic
        description: "ask which facility the guest needs information about (pool, parking, breakfast, lunch, dinner, gym)"
      - action: action_answer_facility_question
  clarification:
    description: Provide simpler, step-by-step explanation when guest doesn't understand.
    steps:
      - action: action_clarify_explanation
